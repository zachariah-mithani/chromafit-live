<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TDEE Calculator — Free Total Daily Energy Expenditure Calculator</title>
    <meta name="description" content="Calculate your Total Daily Energy Expenditure (TDEE) and daily calorie needs for free. Find out exactly how many calories to eat to lose fat, maintain, or build muscle.">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://chromafit.live/tdee-calculator.html">
    <link rel="icon" type="image/png" href="/transparenticon.png">
    <link rel="apple-touch-icon" href="/transparenticon.png">
    <meta name="apple-itunes-app" content="app-id=6757875996">
    <meta name="author" content="ChromaFit Team">

    <meta property="og:type" content="website">
    <meta property="og:site_name" content="ChromaFit">
    <meta property="og:url" content="https://chromafit.live/tdee-calculator.html">
    <meta property="og:title" content="Free TDEE Calculator — How Many Calories Should You Eat?">
    <meta property="og:description" content="Calculate your Total Daily Energy Expenditure and exact calorie targets for fat loss, maintenance, or muscle gain. Free, instant, no sign-up.">
    <meta property="og:image" content="https://chromafit.live/og-image.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Free TDEE Calculator — How Many Calories Should You Eat?">
    <meta name="twitter:description" content="Calculate your TDEE and calorie targets for fat loss, maintenance, or muscle gain. Free and instant.">
    <meta name="twitter:image" content="https://chromafit.live/og-image.png">

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "TDEE Calculator",
      "url": "https://chromafit.live/tdee-calculator.html",
      "description": "Free Total Daily Energy Expenditure calculator using the Mifflin-St Jeor equation. Calculate BMR and daily calorie targets for fat loss, maintenance, or muscle gain.",
      "applicationCategory": "HealthApplication",
      "operatingSystem": "Any",
      "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" }
    }
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What is TDEE?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "TDEE stands for Total Daily Energy Expenditure — the total number of calories your body burns in a day, including your resting metabolic rate and all physical activity. Eating at your TDEE maintains your current weight. Eating below it causes fat loss; eating above it causes weight gain."
          }
        },
        {
          "@type": "Question",
          "name": "What is BMR?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "BMR (Basal Metabolic Rate) is the number of calories your body burns at complete rest — just to keep you alive. TDEE is your BMR multiplied by an activity factor to account for exercise and daily movement."
          }
        },
        {
          "@type": "Question",
          "name": "How many calories should I eat to lose weight?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "To lose approximately 1 pound per week, eat 500 calories below your TDEE (a moderate deficit). For 0.5 pounds per week, use a 250-calorie deficit. Avoid going below 1,200 calories (women) or 1,500 calories (men) without medical supervision."
          }
        },
        {
          "@type": "Question",
          "name": "How many calories should I eat to build muscle?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "To build muscle with minimal fat gain, eat 200–300 calories above your TDEE (a lean bulk). Beginners can often build muscle in a slight deficit or at maintenance."
          }
        },
        {
          "@type": "Question",
          "name": "Which TDEE formula does this calculator use?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "This calculator uses the Mifflin-St Jeor equation, which is considered the most accurate BMR formula for most people by the American Council on Exercise."
          }
        }
      ]
    }
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;600;700&family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --black: #0a0a0a;
            --gray: #1a1a1a;
            --gray-mid: #333;
            --gray-light: #999;
            --white: #f5f5f5;
            --gold: #C8A84E;
            --gold-light: #E8C870;
        }
        body { background: var(--black); color: var(--white); font-family: 'Manrope', sans-serif; line-height: 1.6; }
        .container { max-width: 860px; margin: 0 auto; padding: 0 24px; }

        nav { padding: 20px 24px; display: flex; align-items: center; justify-content: space-between; max-width: 860px; margin: 0 auto; }
        .nav-brand { display: flex; align-items: center; gap: 10px; text-decoration: none; color: var(--white); font-family: 'Chakra Petch', sans-serif; font-weight: 700; font-size: 1.1rem; }
        .nav-brand img { width: 32px; height: 32px; }
        .nav-cta { background: linear-gradient(135deg, var(--gold-light), var(--gold)); color: #000; padding: 10px 22px; border-radius: 100px; text-decoration: none; font-weight: 800; font-size: .85rem; }

        .hero { padding: 60px 0 40px; text-align: center; }
        .label { display: inline-block; background: rgba(200,168,78,.12); color: var(--gold-light); border: 1px solid rgba(200,168,78,.25); padding: 5px 14px; border-radius: 100px; font-size: .72rem; font-weight: 700; letter-spacing: .1em; text-transform: uppercase; margin-bottom: 1.2rem; }
        h1 { font-family: 'Chakra Petch', sans-serif; font-size: clamp(2rem, 5vw, 3.2rem); font-weight: 700; letter-spacing: -.02em; line-height: 1.1; margin-bottom: 1rem; }
        .hero p { color: var(--gray-light); max-width: 560px; margin: 0 auto; }

        /* Calculator Card */
        .calc-card { background: var(--gray); border-radius: 24px; border: 1px solid rgba(255,255,255,.07); padding: 40px; margin: 40px 0; }

        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        @media (max-width: 580px) { .form-grid { grid-template-columns: 1fr; } }

        .field { display: flex; flex-direction: column; gap: 6px; }
        .field label { font-size: .78rem; font-weight: 700; letter-spacing: .06em; text-transform: uppercase; color: var(--gray-light); }
        .field input, .field select {
            background: #111;
            border: 1px solid rgba(255,255,255,.1);
            border-radius: 10px;
            color: var(--white);
            font-family: 'Manrope', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            padding: 12px 16px;
            outline: none;
            transition: border-color .2s;
            width: 100%;
        }
        .field input:focus, .field select:focus { border-color: var(--gold); }
        .field select option { background: #111; }

        .unit-toggle { display: flex; gap: 8px; }
        .unit-btn { flex: 1; padding: 10px; border-radius: 8px; border: 1px solid rgba(255,255,255,.1); background: transparent; color: var(--gray-light); font-family: 'Manrope', sans-serif; font-weight: 700; font-size: .85rem; cursor: pointer; transition: all .2s; }
        .unit-btn.active { background: rgba(200,168,78,.15); border-color: var(--gold); color: var(--gold-light); }

        .full-width { grid-column: 1 / -1; }

        .calc-btn {
            width: 100%;
            margin-top: 8px;
            padding: 16px;
            background: linear-gradient(135deg, var(--gold-light), var(--gold));
            color: #000;
            border: none;
            border-radius: 14px;
            font-family: 'Chakra Petch', sans-serif;
            font-size: 1rem;
            font-weight: 700;
            letter-spacing: .05em;
            cursor: pointer;
            transition: opacity .2s;
        }
        .calc-btn:hover { opacity: .9; }

        /* Results */
        .results { display: none; margin-top: 36px; padding-top: 36px; border-top: 1px solid rgba(255,255,255,.07); }
        .results.visible { display: block; }

        .result-main { text-align: center; margin-bottom: 32px; }
        .result-main .tdee-label { font-size: .75rem; font-weight: 700; letter-spacing: .1em; text-transform: uppercase; color: var(--gray-light); margin-bottom: .5rem; }
        .result-main .tdee-num { font-family: 'Chakra Petch', sans-serif; font-size: clamp(3rem, 8vw, 5rem); font-weight: 700; background: linear-gradient(135deg, var(--gold-light), var(--gold)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; line-height: 1; }
        .result-main .tdee-unit { font-size: 1rem; color: var(--gray-light); margin-top: .3rem; }

        .goal-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 16px; margin-bottom: 28px; }
        .goal-card { background: #111; border-radius: 14px; padding: 20px; border: 1px solid rgba(255,255,255,.06); text-align: center; }
        .goal-card .goal-label { font-size: .72rem; font-weight: 700; letter-spacing: .08em; text-transform: uppercase; margin-bottom: .5rem; }
        .goal-card .goal-cals { font-family: 'Chakra Petch', sans-serif; font-size: 1.8rem; font-weight: 700; line-height: 1; }
        .goal-card .goal-sub { font-size: .78rem; color: var(--gray-light); margin-top: .3rem; }
        .goal-card.cut .goal-label { color: #E54231; }
        .goal-card.cut .goal-cals { color: #E54231; }
        .goal-card.maintain .goal-label { color: var(--gold); }
        .goal-card.maintain .goal-cals { color: var(--gold); }
        .goal-card.bulk .goal-label { color: #35A052; }
        .goal-card.bulk .goal-cals { color: #35A052; }

        .macro-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
        .macro-box { background: #111; border-radius: 12px; padding: 16px; text-align: center; border: 1px solid rgba(255,255,255,.06); }
        .macro-box .m-label { font-size: .7rem; font-weight: 700; letter-spacing: .08em; text-transform: uppercase; color: var(--gray-light); margin-bottom: .4rem; }
        .macro-box .m-val { font-family: 'Chakra Petch', sans-serif; font-size: 1.4rem; font-weight: 700; }
        .macro-box .m-unit { font-size: .75rem; color: var(--gray-light); }

        .goal-select { display: flex; gap: 8px; margin-bottom: 20px; flex-wrap: wrap; }
        .goal-pill { padding: 7px 16px; border-radius: 100px; border: 1px solid rgba(255,255,255,.1); background: transparent; color: var(--gray-light); font-family: 'Manrope', sans-serif; font-weight: 700; font-size: .82rem; cursor: pointer; transition: all .2s; }
        .goal-pill.active-cut { background: rgba(229,66,49,.15); border-color: #E54231; color: #E54231; }
        .goal-pill.active-maintain { background: rgba(200,168,78,.15); border-color: var(--gold); color: var(--gold-light); }
        .goal-pill.active-bulk { background: rgba(53,160,82,.15); border-color: #35A052; color: #35A052; }

        .macro-note { font-size: .8rem; color: var(--gray-light); margin-top: 12px; text-align: center; }

        /* App CTA */
        .app-cta { background: linear-gradient(135deg, rgba(200,168,78,.08), rgba(200,168,78,.03)); border: 1px solid rgba(200,168,78,.2); border-radius: 20px; padding: 32px; text-align: center; margin: 40px 0; }
        .app-cta h3 { font-family: 'Chakra Petch', sans-serif; font-size: 1.4rem; font-weight: 700; margin-bottom: .6rem; }
        .app-cta p { color: var(--gray-light); font-size: .95rem; margin-bottom: 1.5rem; }
        .app-cta img { width: 150px; height: auto; }

        /* Content sections */
        .content { padding: 60px 0; }
        .content h2 { font-family: 'Chakra Petch', sans-serif; font-size: clamp(1.5rem, 3.5vw, 2.2rem); font-weight: 700; margin-bottom: 1rem; letter-spacing: -.02em; }
        .content p { color: var(--gray-light); margin-bottom: 1rem; line-height: 1.8; }
        .content h3 { font-size: 1.05rem; font-weight: 700; margin: 1.5rem 0 .5rem; }

        /* FAQ */
        .faq { padding: 60px 0; }
        .faq h2 { font-family: 'Chakra Petch', sans-serif; font-size: clamp(1.5rem, 3.5vw, 2.2rem); font-weight: 700; margin-bottom: 2rem; letter-spacing: -.02em; }
        .faq-item { border-bottom: 1px solid rgba(255,255,255,.07); padding: 20px 0; }
        .faq-item h3 { font-size: .98rem; font-weight: 700; margin-bottom: .5rem; }
        .faq-item p { color: var(--gray-light); font-size: .93rem; }

        footer { padding: 40px 24px; text-align: center; border-top: 1px solid rgba(255,255,255,.06); color: var(--gray-light); font-size: .85rem; }
        footer a { color: var(--gray-light); text-decoration: none; margin: 0 10px; }
        footer a:hover { color: var(--white); }
    </style>
</head>
<body>

<nav>
    <a href="/" class="nav-brand">
        <img src="/transparenticon.png" alt="ChromaFit" width="1024" height="1024">
        ChromaFit
    </a>
    <a href="https://apps.apple.com/us/app/chromafit/id6757875996" target="_blank" rel="noopener" class="nav-cta">Download Free</a>
</nav>

<section class="hero">
    <div class="container">
        <div class="label">Free Tool</div>
        <h1>TDEE Calculator</h1>
        <p>Find your Total Daily Energy Expenditure — the exact number of calories your body burns each day — then get your targets for fat loss, maintenance, or muscle gain.</p>
        <p style="font-size:.78rem;color:var(--gray-light);margin-top:.5rem">By ChromaFit Team · Last updated Feb 17, 2026</p>
    </div>
</section>

<div class="container">
    <div class="calc-card">
        <div class="form-grid">

            <!-- Sex -->
            <div class="field">
                <label>Biological Sex</label>
                <select id="sex">
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>
            </div>

            <!-- Age -->
            <div class="field">
                <label>Age</label>
                <input type="number" id="age" placeholder="25" min="15" max="100">
            </div>

            <!-- Units -->
            <div class="field full-width">
                <label>Units</label>
                <div class="unit-toggle">
                    <button class="unit-btn active" id="btn-imperial" onclick="setUnit('imperial')">Imperial (lbs / ft)</button>
                    <button class="unit-btn" id="btn-metric" onclick="setUnit('metric')">Metric (kg / cm)</button>
                </div>
            </div>

            <!-- Height -->
            <div class="field" id="height-imperial">
                <label>Height</label>
                <div style="display:flex; gap:8px;">
                    <input type="number" id="height-ft" placeholder="5" min="3" max="8" style="width:50%">
                    <input type="number" id="height-in" placeholder="10" min="0" max="11" style="width:50%">
                </div>
                <span style="font-size:.75rem; color:var(--gray-light); margin-top:4px;">ft &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; in</span>
            </div>
            <div class="field" id="height-metric" style="display:none;">
                <label>Height (cm)</label>
                <input type="number" id="height-cm" placeholder="178" min="100" max="250">
            </div>

            <!-- Weight -->
            <div class="field" id="weight-imperial">
                <label>Weight (lbs)</label>
                <input type="number" id="weight-lbs" placeholder="175" min="50" max="700">
            </div>
            <div class="field" id="weight-metric" style="display:none;">
                <label>Weight (kg)</label>
                <input type="number" id="weight-kg" placeholder="80" min="20" max="300">
            </div>

            <!-- Activity -->
            <div class="field full-width">
                <label>Activity Level</label>
                <select id="activity">
                    <option value="1.2">Sedentary — desk job, little or no exercise</option>
                    <option value="1.375">Lightly Active — light exercise 1–3 days/week</option>
                    <option value="1.55" selected>Moderately Active — moderate exercise 3–5 days/week</option>
                    <option value="1.725">Very Active — hard exercise 6–7 days/week</option>
                    <option value="1.9">Extra Active — physical job + hard training daily</option>
                </select>
            </div>

        </div>

        <button class="calc-btn" onclick="calculate()">Calculate My TDEE</button>

        <!-- Results -->
        <div class="results" id="results">
            <div class="result-main">
                <div class="tdee-label">Your TDEE</div>
                <div class="tdee-num" id="tdee-display">—</div>
                <div class="tdee-unit">calories / day</div>
            </div>

            <div style="font-size:.8rem; font-weight:700; letter-spacing:.08em; text-transform:uppercase; color:var(--gray-light); margin-bottom:12px;">Calorie Targets by Goal</div>
            <div class="goal-cards">
                <div class="goal-card cut">
                    <div class="goal-label">Fat Loss</div>
                    <div class="goal-cals" id="cut-cals">—</div>
                    <div class="goal-sub">cal/day · −500 deficit</div>
                </div>
                <div class="goal-card maintain">
                    <div class="goal-label">Maintain</div>
                    <div class="goal-cals" id="maintain-cals">—</div>
                    <div class="goal-sub">cal/day · your TDEE</div>
                </div>
                <div class="goal-card bulk">
                    <div class="goal-label">Lean Bulk</div>
                    <div class="goal-cals" id="bulk-cals">—</div>
                    <div class="goal-sub">cal/day · +300 surplus</div>
                </div>
            </div>

            <div style="font-size:.8rem; font-weight:700; letter-spacing:.08em; text-transform:uppercase; color:var(--gray-light); margin-bottom:10px;">Macro Targets</div>
            <div class="goal-select">
                <button class="goal-pill active-maintain" id="pill-cut" onclick="setGoal('cut')">Fat Loss</button>
                <button class="goal-pill" id="pill-maintain" onclick="setGoal('maintain')">Maintain</button>
                <button class="goal-pill" id="pill-bulk" onclick="setGoal('bulk')">Lean Bulk</button>
            </div>
            <div class="macro-row">
                <div class="macro-box">
                    <div class="m-label">Protein</div>
                    <div class="m-val" id="macro-protein">—</div>
                    <div class="m-unit">grams</div>
                </div>
                <div class="macro-box">
                    <div class="m-label">Carbs</div>
                    <div class="m-val" id="macro-carbs">—</div>
                    <div class="m-unit">grams</div>
                </div>
                <div class="macro-box">
                    <div class="m-label">Fat</div>
                    <div class="m-val" id="macro-fat">—</div>
                    <div class="m-unit">grams</div>
                </div>
            </div>
            <p class="macro-note">Based on 40% protein / 35% carbs / 25% fat — adjust to your preference.</p>
        </div>
    </div>

    <!-- App CTA -->
    <div class="app-cta">
        <h3>Track Your Calories Automatically</h3>
        <p>ChromaFit's AI food scanner calculates your macros from a photo of any meal — no manual logging required. Set your TDEE target and let the app do the rest.</p>
        <a href="https://apps.apple.com/us/app/chromafit/id6757875996" target="_blank" rel="noopener">
            <img src="https://tools.applemediaservices.com/api/badges/download-on-the-app-store/black/en-us?size=250x83" alt="Download ChromaFit on the App Store" width="250" height="83">
        </a>
    </div>

    <!-- Explainer content (boosts SEO) -->
    <section class="content">
        <h2>What Is TDEE and Why Does It Matter?</h2>
        <p>Your Total Daily Energy Expenditure (TDEE) is the total number of calories your body burns in a 24-hour period — including everything from breathing and digestion to exercise and daily movement. It is the single most important number for reaching any body composition goal.</p>
        <p>Whether you want to lose fat, build muscle, or simply maintain your current weight, your calorie intake relative to your TDEE determines the outcome. No diet, supplement, or training program overrides this fundamental principle.</p>

        <h3>How TDEE Is Calculated</h3>
        <p>TDEE is calculated in two steps. First, your <strong>Basal Metabolic Rate (BMR)</strong> is estimated using the Mifflin-St Jeor equation — the formula recommended by the American Council on Exercise for its accuracy across most populations:</p>
        <p style="background:#1a1a1a; padding:16px 20px; border-radius:12px; font-family: monospace; font-size:.9rem; color: var(--gold-light); border:1px solid rgba(200,168,78,.2);">
            Men: BMR = (10 × weight in kg) + (6.25 × height in cm) − (5 × age) + 5<br>
            Women: BMR = (10 × weight in kg) + (6.25 × height in cm) − (5 × age) − 161
        </p>
        <p>Your BMR is then multiplied by an <strong>activity factor</strong> (ranging from 1.2 for sedentary to 1.9 for very active) to produce your TDEE.</p>

        <h3>How Many Calories to Lose Fat</h3>
        <p>A deficit of 500 calories per day below your TDEE creates approximately a 1-pound-per-week fat loss rate. A 250-calorie deficit produces around 0.5 lbs/week — slower, but easier to sustain and less likely to cause muscle loss.</p>

        <h3>How Many Calories to Build Muscle</h3>
        <p>A lean bulk uses a modest 200–300 calorie surplus above your TDEE. This provides enough energy for muscle growth while minimizing fat gain. Larger surpluses cause faster weight gain but more of it will be fat.</p>

        <h3>How Often Should You Recalculate?</h3>
        <p>Recalculate your TDEE every 4–6 weeks or whenever your weight changes by more than 5–10 lbs. As your weight decreases, your BMR decreases — meaning your calorie target needs to be updated to continue progressing.</p>
    </section>

    <!-- FAQ -->
    <section class="faq">
        <h2>Frequently Asked Questions</h2>
        <div class="faq-item">
            <h3>What is TDEE?</h3>
            <p>TDEE (Total Daily Energy Expenditure) is the total number of calories your body burns per day, including your resting metabolism and all physical activity.</p>
        </div>
        <div class="faq-item">
            <h3>What is BMR?</h3>
            <p>BMR (Basal Metabolic Rate) is the calories your body burns at rest just to sustain basic functions. TDEE is your BMR multiplied by your activity level.</p>
        </div>
        <div class="faq-item">
            <h3>How many calories should I eat to lose weight?</h3>
            <p>Eat 500 calories below your TDEE to lose approximately 1 lb per week. For slower, more sustainable fat loss, use a 250-calorie deficit.</p>
        </div>
        <div class="faq-item">
            <h3>How many calories to build muscle?</h3>
            <p>Eat 200–300 calories above your TDEE (a lean bulk) to build muscle with minimal fat gain.</p>
        </div>
        <div class="faq-item">
            <h3>Which formula does this calculator use?</h3>
            <p>The Mifflin-St Jeor equation — the most validated BMR formula for most people, recommended by the American Council on Exercise.</p>
        </div>
        <div class="faq-item">
            <h3>Is TDEE the same every day?</h3>
            <p>No. Your TDEE fluctuates day-to-day based on activity. The number from this calculator is an average — track your actual weight trend over 2–4 weeks to validate and adjust your intake.</p>
        </div>
    </section>
</div>

<footer>
    <a href="/">ChromaFit</a>
    <a href="/physique-lab.html">Physique Lab</a>
    <a href="/food-scanner.html">Food Scanner</a>
    <a href="/blog.html">Blog</a>
    <a href="/privacy.html">Privacy</a>
    <a href="/support.html">Support</a>
    <br><br>
    &copy; 2026 ChromaFit. All rights reserved.
</footer>

<script>
    let unit = 'imperial';
    let currentGoal = 'cut';
    let results = {};

    function setUnit(u) {
        unit = u;
        document.getElementById('btn-imperial').classList.toggle('active', u === 'imperial');
        document.getElementById('btn-metric').classList.toggle('active', u === 'metric');
        document.getElementById('height-imperial').style.display = u === 'imperial' ? '' : 'none';
        document.getElementById('height-metric').style.display = u === 'metric' ? '' : 'none';
        document.getElementById('weight-imperial').style.display = u === 'imperial' ? '' : 'none';
        document.getElementById('weight-metric').style.display = u === 'metric' ? '' : 'none';
    }

    function calculate() {
        const sex = document.getElementById('sex').value;
        const age = parseFloat(document.getElementById('age').value);
        const activity = parseFloat(document.getElementById('activity').value);

        let weightKg, heightCm;

        if (unit === 'imperial') {
            const lbs = parseFloat(document.getElementById('weight-lbs').value);
            const ft = parseFloat(document.getElementById('height-ft').value) || 0;
            const ins = parseFloat(document.getElementById('height-in').value) || 0;
            weightKg = lbs * 0.453592;
            heightCm = ((ft * 12) + ins) * 2.54;
        } else {
            weightKg = parseFloat(document.getElementById('weight-kg').value);
            heightCm = parseFloat(document.getElementById('height-cm').value);
        }

        if (!age || !weightKg || !heightCm) {
            alert('Please fill in all fields.');
            return;
        }

        let bmr;
        if (sex === 'male') {
            bmr = (10 * weightKg) + (6.25 * heightCm) - (5 * age) + 5;
        } else {
            bmr = (10 * weightKg) + (6.25 * heightCm) - (5 * age) - 161;
        }

        const tdee = Math.round(bmr * activity);
        results = {
            tdee,
            cut: Math.max(1200, tdee - 500),
            maintain: tdee,
            bulk: tdee + 300,
            weightKg
        };

        document.getElementById('tdee-display').textContent = tdee.toLocaleString();
        document.getElementById('cut-cals').textContent = results.cut.toLocaleString();
        document.getElementById('maintain-cals').textContent = results.maintain.toLocaleString();
        document.getElementById('bulk-cals').textContent = results.bulk.toLocaleString();

        document.getElementById('results').classList.add('visible');
        setGoal('cut');
        document.getElementById('results').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    }

    function setGoal(goal) {
        currentGoal = goal;
        const pills = ['cut', 'maintain', 'bulk'];
        pills.forEach(g => {
            const pill = document.getElementById('pill-' + g);
            pill.className = 'goal-pill';
            if (g === goal) pill.classList.add('active-' + g);
        });

        const cals = results[goal];
        if (!cals) return;

        const protein = Math.round((cals * 0.40) / 4);
        const carbs = Math.round((cals * 0.35) / 4);
        const fat = Math.round((cals * 0.25) / 9);

        document.getElementById('macro-protein').textContent = protein;
        document.getElementById('macro-carbs').textContent = carbs;
        document.getElementById('macro-fat').textContent = fat;
    }
</script>
</body>
</html>
